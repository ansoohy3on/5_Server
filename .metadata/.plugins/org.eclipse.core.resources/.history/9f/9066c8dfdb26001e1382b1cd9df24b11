// 회원 정보 조회
// 아이디를 입력받아 일치하는 회원 정보를 출력

document.getElementById("search-btn").addEventListener("click", function(){

    const input = document.getElementById("member-search");
    const div = document.getElementById("memberList");

    $.ajax({

        url : "/admin/SelectOne",
        data : { "memberId" : input.value },
        type : "post",
        dataType : "json",

        success : function(member){

            div.innerHTML = "";

            if(member != null){ // 일치하는 회원 정보가 있을 때
                
                const tr = document.createElement("tr");

                const td1 = document.createElement("td");
                td1.innerText = <input type="checkbox"/>;

                const td2 = document.createElement("td");
                td2.innerText = member.memberNo;

                const td3 = document.createElement("td");
                td3.innerText = member.memberId;

                const td4 = document.createElement("td");
                td4.innerText = member.memberName;

                const td5 = document.createElement("td");
                td5.innerText = member.memberNickname;

                const td6 = document.createElement("td");
                td6.innerText = member.memberAddress;

                const td7 = document.createElement("td");
                td7.innerText = member.memberTheme;

                const td8 = document.createElement("td");
                td8.innerText = member.enrollDate;

                const td9 = document.createElement("td");
                td9.innerText = member.secessionFlag;

                tr.append(td1, td2, td3, td4, td5, td6, td7, td8, td9);

                div.append(tr);
            
            } else { // 회원 정보가 없을 때

                const tr = document.createElement("tr");

                const td = document.createElement("td");

                td.setAttribute("colspan", 9);

                td.innerText = '일치하는 회원 정보가 없습니다.';
            }

        },

        error : function(){
            console.log("에러 발생");
        }
    });

})